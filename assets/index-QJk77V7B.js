(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();const u=new Date,p=u.getDate(),y=["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],g=y[u.getMonth()],D=u.getFullYear(),h=`${p} ${g} ${D} г.`;document.getElementById("currentDate").textContent=h;function m(){const t=new Date,o=t.getHours().toString().padStart(2,"0"),r=t.getMinutes().toString().padStart(2,"0");document.getElementById("currentTime").textContent=`${o}:${r}`}setInterval(m,1e3);m();const l=document.getElementById("timer-display"),T=document.getElementById("start-button");let a,i=15;function d(){l.textContent="Действует: "+i+" сек."}function I(){clearInterval(a),i=15,d(),a=setInterval(()=>{i--,d(),i<=0&&(clearInterval(a),l.textContent="Время вышло!")},1e3)}T.addEventListener("click",()=>{I()});l.textContent='Нажмите "закрыть" для запуска';function w(t,o){const r=Math.floor(t),s=Math.floor(o),e=r-s;return Math.floor(e/86400)}function E(t){const o=new Date(t);return Math.floor(o.getTime()/1e3)}function N(t){return new Intl.NumberFormat("ru-RU").format(t)}function S(t,o,r){const s=E(o),e=Date.now()/1e3,c=w(e,s)*r+t,f=document.getElementById("codeDisplay");f?f.textContent=N(c):console.error("Элемент с ID 'codeDisplay' не найден, убедитесь что DOM загружен")}async function b(){try{const t=await fetch("/config.json");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Не удалось загрузить конфигурационный файл:",t),{startTicketNumber:1e9,baseDate:"2024-01-01",multiplierPerDay:1e5}}}async function C(){const t=await b();S(t.startTicketNumber,t.baseDate,t.multiplierPerDay),console.log("Приложение инициализировано с конфигурацией:",t)}C();
